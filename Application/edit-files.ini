[Command]
Name=Edit Files
Command="
    copyq:
    var valid = '^'+
        [ '([a-zA-Z]):?[\\\\/]'
        , '~'
        , 'file://'
        , '%\\w+%'
        , '$\\w+'
        , '/'
        ].join('|')

    var editor = config('editor').replace(/ %1/, '')

    var lines = unescape(str(input())).split('\\n')

    var filePaths = []

    for (i = 0; i < lines.length; i++) {
        var isFile = Boolean(lines[i].match(valid))
        
        if (isFile) {
            filePaths.push(
                lines[i]
                .replace(/^file:\\/{2}/, '')
                .replace(/^\\/(\\w):?\\//, '$1:/')
                )
        }
    }

    if (filePaths.length > 0) {
        hide()

        var cmd = [editor].concat(filePaths)

        execute.apply(this, cmd)
    }"
Input=text/plain
InMenu=true
Icon=\xf040
Shortcut=f4
