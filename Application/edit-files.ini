[Command]
Name=Edit Files
Command="
    copyq:
    var editor = config('editor').replace(/ %1/, '')
    
    var lines = unescape(str(input())).split('\\n')
    
    var valid = new RegExp('^'+
        [ '([a-zA-Z]):?[\\\\/]'
        , '~'
        , 'file://'
        , '%\\w+%'
        , '$\\w+'
        , '/'
        ].join('|')
        )
    
    var filePaths = []
    
    for (i = 0; i < lines.length; i++) {
        var isFile = Boolean(lines[i].match(valid))
        
        if (isFile) {
            filePaths.push(
                lines[i]
                .replace(/^file:\\/{2}/, '')
                .replace(/^\\/(\\w):?\\//, '$1:/')
                )
        }
    }
    
    if (filePaths.length > 0) {
        //hide()
    
        var cmd = [editor].concat(filePaths)
    
        edit(cmd)
    
        //execute.apply(this, cmd)
    }
    "
Input=text/plain
InMenu=true
Icon=\xf040
Shortcut=f4
